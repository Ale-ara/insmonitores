<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Aulas • L2ro</title>

<style>
:root{--ins:#0059a7;--fundo:#0a0a0f;--texto:#f4f4f4}
*{box-sizing:border-box}
body{margin:0;font-family:'Poppins',sans-serif;background:var(--fundo);color:var(--texto);overflow-x:hidden}
html,body{cursor:none}
.custom-cursor{position:fixed;top:0;left:0;width:32px;height:32px;pointer-events:none;transform:translate(-50%,-50%);z-index:9999}
.custom-cursor img{width:100%;height:100%}

/* header */
.header{display:flex;align-items:center;gap:12px;padding:18px 28px;background:linear-gradient(90deg,var(--ins) 20%,rgba(16,22,98,0.7) 100%), url(https://i.imgur.com/5HBJY5z.png) right center/cover no-repeat;position:relative}
.header::before{content:'';position:absolute;inset:0;background:rgba(0,0,0,0.45)}
.header .inner{position:relative;z-index:2;display:flex;align-items:center;gap:12px}
.logo{width:56px}

/* main */
.container{padding:26px}
.title{color:#fff;font-size:1.3rem;margin-bottom:6px}
.sub{color:#cfd9ff;font-size:0.9rem;margin-bottom:18px}

/* lista de aulas */
.lista-aulas{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px}
.card{background:rgba(255,255,255,0.03);padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.02);display:flex;gap:12px;align-items:center}
.card img.thumb{width:120px;height:80px;object-fit:cover;border-radius:8px}
.card .info{flex:1}
.card .info strong{display:block;color:var(--ins);margin-bottom:6px}
.card .acoes{display:flex;flex-direction:column;gap:8px}

/* botão ver */
.verBtn{background:var(--ins);border:none;padding:10px;border-radius:8px;color:#fff;cursor:pointer}

/* personagem canto */
.personagem{position:fixed;bottom:12px;left:12px;display:flex;flex-direction:column-reverse;align-items:center;gap:8px;z-index:9999}
.personagem img{width:90px}

/* voltar */
#voltarBtn {position:fixed;bottom:30px;left:30px;background:var(--ins);color:#fff;border:none;border-radius:50%;width:45px;height:45px;font-size:1.3rem;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 0 10px #0059a780}
@media(max-width:700px){.lista-aulas{grid-template-columns:repeat(1,1fr)}}
</style>
</head>
<body>

<div class="custom-cursor"><img src="https://www.habbo.com.br/habbo-imaging/badge/b09064s43131s50134s17113s171153f3edc7f555be912c2392e285b05bd34.gif" alt="cursor"></div>

<header class="header">
  <div class="inner">
    <img class="logo" src="https://i.imgur.com/2HJ0aLw.png" alt="logo">
    <div>
      <div style="color:#fff;font-weight:700" id="headerTitle">Aulas</div>
      <div style="font-size:12px;color:#dfeaff" id="headerSub">Listando prints do instrutor</div>
    </div>
  </div>
</header>

<main class="container">
  <h2 class="title" id="tituloInstrutor">Instrutor</h2>
  <div class="sub" id="subTitulo">Clique no print para abrir</div>

  <div class="lista-aulas" id="listaAulas">
    <!-- cards inseridos aqui -->
  </div>
</main>

<div class="personagem" id="personagemBox" style="display:none">
  <div class="balao-fala" id="balao">Olá</div>
  <img id="personagemImg" src="" alt="personagem" />
</div>

<button id="voltarBtn" title="Voltar" onclick="history.back()">⤺</button>

<script>
const cursor = document.querySelector(".custom-cursor");
document.addEventListener("mousemove",(e)=>{cursor.style.top=`${e.clientY}px`;cursor.style.left=`${e.clientX}px`})

// API: cole aqui seu endpoint
const API_URL = "COLE_AQUI_O_LINK_DA_API_DO_GOOGLE_APPS_SCRIPT";

// recebe param instrutor
const params = new URLSearchParams(location.search);
const instrutor = params.get("instrutor") || "Desconhecido";

document.getElementById("tituloInstrutor").innerText = `Aulas monitoradas - ${instrutor}`;
document.getElementById("headerTitle").innerText = `Aulas • ${instrutor}`;

// array de exemplo (use API para dados reais)
const aulasExemplo = [
  { aluno: "Hiroshi", nick: "HiroshiX", personagem: "https://www.habbo.com.br/habbo-imaging/avatarimage?figure=hr-165-41-64&direction=2&size=m", print: "https://i.imgur.com/Exemplo1.png", data: "21/11/2025" },
  { aluno: "Akira", nick: "AkiraZ", personagem: "https://www.habbo.com.br/habbo-imaging/avatarimage?figure=hd-180-1&direction=2&size=m", print: "https://i.imgur.com/Exemplo2.png", data: "20/11/2025" }
];

function renderAulas(list){
  const cont = document.getElementById("listaAulas");
  cont.innerHTML = "";
  list.forEach(item=>{
    const card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `
      <img class="thumb" src="${item.print}" alt="print">
      <div class="info">
        <strong>${item.nick} • ${item.aluno}</strong>
        <div style="font-size:13px;color:#d6e6ff">${item.data}</div>
      </div>
      <div class="acoes">
        <button class="verBtn" onclick='abrirPrint("${item.print}","${item.personagem}","${item.nick}")'>Ver</button>
      </div>
    `;
    cont.appendChild(card);
  });
}

// Tenta carregar via API; formato esperado: [{instrutor:"L2ro", aluno:"João", nick:"joao", personagem:"url", print:"url", data:"..."}, ...]
if(API_URL && API_URL.indexOf("COLE_AQUI")===-1){
  fetch(API_URL).then(r=>r.json()).then(json=>{
    // filtra por instrutor
    const dados = json.filter(x => (x.instrutor||x.Instrutor||x.nomeInstrutor||"").toString() === instrutor);
    if(dados.length===0){
      renderAulas(aulasExemplo);
    } else {
      // normalizar campos
      const normalized = dados.map(x=>({
        aluno: x.aluno || x.Aluno || x.nome || "",
        nick: x.nick || x.Nick || x.usuario || "",
        personagem: x.personagem || x.avatar || x.personagemURL || "",
        print: x.print || x.imagem || x.PrintURL || "",
        data: x.data || x.Data || ""
      }));
      renderAulas(normalized);
    }
  }).catch(err=>{
    console.warn("Erro carregar API:", err);
    renderAulas(aulasExemplo);
  });
}else{
  render
